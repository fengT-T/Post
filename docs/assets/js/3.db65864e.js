(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{44:function(t,a,s){t.exports=s.p+"assets/img/render.5ce45ba0.png"},45:function(t,a,s){t.exports=s.p+"assets/img/render-gecko.b074db49.jpg"},46:function(t,a,s){t.exports=s.p+"assets/img/render-tree-construction.0c389301.png"},47:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAmgAAAEZCAMAAAAUpymCAAAC9FBMVEVMaXEAAAAAAAAAAABAQECAgID///+/v7+6urrn5+epqanBwcGDg4OFhYWioqL19fXGxsbs7Oz6+vri4uKurq6goKDU1NTb29vu7u74+Pi4uLjLy8vx8fHl5eXz8/OwsLBra2ubm5tmZmbS0tKsrKx3d3dwcHC8vLyzs7OWlpZ0dHSnp6eIiIiUlJRoaGiRkZGKioqYmJjExMRycnLp6enIyMiPj4/X19dtbW2kpKSMjIx+fn79/f3Z2dl5eXnQ0NB8fHydnZ3d3d3Nzc21tbXg4ODsz8/KfHzWmprapKTNhITw29unJSWYAADMgICsMTEgAACMPj6yQUHmwcGfAAB5AADLf3+NOjqQKCibBga/YGDFcHCiFxf36+vRjIz89/f9+/vcqKjhtLS4UFDPiIg0OT1ocXrP4vO9zdvD1OPM3u7I2urO4PHC0+LH2Oe2xdLA0N6cpq+vvMi4xtR3en3K3O2xv8tzdXe0ws+Pl52DiY5vcXO6ydZ7f4KeqbKnsr2AhYmTm6KotL5/g4eGjJFydHahrLWOlZuMk5mIjpSIlaCtucWjr7lqamptbm+ptcCbpKyUnKR1eHqWn6hAPTOAeWa7ytiKkZd9goX/8sz77snb0bTz58Tg1rfu4sHZz7PEvKWEgnqhnI2cmIq7tJ6WkoZ5d3OQjYLVzLB9e3Vwb23BuaP98MvSya53dnHx5cOkn4+4sZ2MiX+xq5jGvqa/t6H26sZzcm/i17nq373d07Xm27zJwKenoZGUkIWtp5b47MeAfnfLwqns4b+Jhn21rpvNxKupo5OYlIe/tZnPxKbv47/XzKzf1LLn27lgW02gmICIgW1IRDpybFvHvZ9oY1NMSD3z58KclH2EfWqMhXC4r5OQiXOwp41XU0WWjnhEQTbb0K8cGxYEBANcV0oXFhIICAYkIh3j17Z5c2G8spaon4YgHhoMCwo8OTA2MysQDw0uLCTDuZxsZlbTyKlQTEBkX1AoJiC0q5Cso4p7h5EAAADyqG2AAAAA/HRSTlMAV3////////////////////////////////////////////////////////////////////////////////////////////////////////////8I0////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////2dULVUsAAAON0lEQVR4AezStwHCQBAAsI9Hhv23peQ7kq+yNIMKOwYAALVBkro862ngNa31MSHF6G2JNgNSTNEQDdHYimggGqKBaIiGaByO8ZVT8EM05jm+cbkG+dG43YOPo/F4smtX+8ljUQDFr1g4EQiQNoSw0SLBKYQQqI27u7//M0wJ4+7ycf441+u3I+foWvxuGLoJxZKVNKFcAVOvHP+vVnX7onAJ4KSsUg0olt1SXfcaZZTfGpriShNotc1UB7peo5fIm1w1QBcLUn2z28kPGnIBlc6wN/KbUBgnJpOxTGf8Zio0ZZ6ChbfkasW1XIK2nrEJYNseY/a7NPwKbOZobSuE6RZy6x0kvRBFhfbbBRtoDKFdZzyJ/xjQi9h3WgHJvsnhBtDF6Xpa/AVbSsBNnt9BhaYMhtzKLa7sTV9iJXSPIDM7hIcemjSBrJijFfEXKpL+3deoKjQlOWdyA3upGpIyjjSu5dav6tFdR6MpBnCzJbA4fUn1AVuW/A4qNGUnl14V6m1M7wLIDKEmK4tdNOzBvVSg6nUZr4C0d8/0CriWGooK7Xdwpd8Dxldgza/TJX9//M8vsvM6Goz6k+LDMGeylKx9vX38crgAulI2UFRov0MiZwK5JNiWJ4kywKEB1egCmNfrnt/QgG5b1hkbLdoBtbY0+auo0JSq6kmF9k+4E5c/QYX21NPPoPy6Vpufpzz73PM/G1pc2QsvvvgSf5KivPTiiy/Hrf1EaHFlj1RofwEV2qO4tR+E9sqrx8pir730BHid/6+XngCvvRiLW/tOaG+8+eIT5i3+v158wrz9vYn2zrtnOtHSlsOvcKw0P5K94Nc9WBqx5gYwoGKZ5zXR3n3vqR+coz3//ruPf5/fOdpv2NazF5cfyQ34dfdzTm4mMKpDKzqXc7TYB09/+BNXnR9+9MFPXAwof0Ud28zpFm8wPaPQXnjm45+5vfHJpy+fTWh20sqUgbsiZf2o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"},48:function(t,a,s){t.exports=s.p+"assets/img/200px-Pixels_covered_by_a_triangle.cb2890db.png"},49:function(t,a,s){t.exports=s.p+"assets/img/Screenshot_20190327_000731.926a9c5c.png"},67:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"网页渲染"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#网页渲染","aria-hidden":"true"}},[t._v("#")]),t._v(" 网页渲染")]),t._v(" "),n("p",[t._v("用一张经典的图来表示网页的渲染过程\n"),n("img",{attrs:{src:s(44),alt:"WebKit 主流程"}})]),t._v(" "),n("p",[n("img",{attrs:{src:s(45),alt:"Mozilla 的 Gecko 呈现引擎主流程"}})]),t._v(" "),n("p",[t._v("就从这两张图开始装起，主要的渲染过程有")]),t._v(" "),n("ul",[n("li",[t._v("构建渲染树("),n("code",[t._v("Render Tree")]),t._v(")")]),t._v(" "),n("li",[n("code",[t._v("Layout")]),t._v("：根据生成的渲染树，进行"),n("code",[t._v("Layout")]),t._v("（布局，排版），得到节点的几何信息（位置，大小）")]),t._v(" "),n("li",[n("code",[t._v("Painting")]),t._v("（绘制）:根据渲染树以及"),n("code",[t._v("Layout")]),t._v("得到的几何信息，得到节点的绝对像素，顔色")]),t._v(" "),n("li",[n("code",[t._v("Composite")]),t._v("： 根据一些规则（一般是同一坐标空间属于同一渲染层，我们可以在"),n("code",[t._v("chrome devtools layers")]),t._v("看到）将渲染树分离成一些合成层（"),n("code",[t._v("layers")]),t._v("）")])]),t._v(" "),n("h2",{attrs:{id:"构建渲染树"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#构建渲染树","aria-hidden":"true"}},[t._v("#")]),t._v(" 构建渲染树")]),t._v(" "),n("p",[t._v("解析HTML，生成DOM树，解析CSS，生成CSSOM树， DOM 树与 CSSOM 树合并后形成渲染树。\n为构建渲染树，浏览器大体上完成了下列工作：")]),t._v(" "),n("p",[n("img",{attrs:{src:s(46),alt:"构建渲染树"}})]),t._v(" "),n("ol",[n("li",[n("p",[t._v("从 "),n("code",[t._v("DOM")]),t._v(" 树的根节点开始遍历每个可见节点。")]),t._v(" "),n("ul",[n("li",[t._v("某些节点不可见（例如脚本标记、元标记等），因为它们不会体现在渲染输出中，所以会被忽略。")]),t._v(" "),n("li",[t._v("某些节点通过 "),n("code",[t._v("CSS")]),t._v(" 隐藏，因此在渲染树中也会被忽略，例如，上例中的 "),n("code",[t._v("span")]),t._v(" 节点不会出现在渲染树中，因为有一个显式规则在该节点上设置了"),n("code",[t._v("display: none")]),t._v("属性。")])])]),t._v(" "),n("li",[n("p",[t._v("对于每个可见节点，为其找到适配的 "),n("code",[t._v("CSSOM")]),t._v(" 规则并应用它们。")])]),t._v(" "),n("li",[n("p",[t._v("发射可见节点，连同其内容和计算的样式。")])])]),t._v(" "),n("div",{staticClass:"tip custom-block"},[n("p",[t._v("简单提一句，请注意 "),n("code",[t._v("visibility: hidden")]),t._v(" 与 "),n("code",[t._v("display: none")]),t._v(" 是不一样的。前者隐藏元素，但元素仍占据着布局空间（即将其渲染成一个空框），而后者 ("),n("code",[t._v("display: none")]),t._v(") 将元素从渲染树中完全移除，元素既不可见，也不是布局的组成部分。")])]),t._v(" "),n("h2",{attrs:{id:"layout"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#layout","aria-hidden":"true"}},[t._v("#")]),t._v(" Layout")]),t._v(" "),n("p",[t._v("有了渲染树，我们就可以进入"),n("code",[t._v("Layout(布局)")]),t._v("阶段。到目前为止，我们计算了哪些节点应该是可见的以及它们的样式，但我们尚未计算它们在设备视口内的确切位置和大小,这就是“布局”阶段，也称为“自动重排”。")]),t._v(" "),n("p",[t._v("为弄清每个对象在网页上的确切大小和位置，浏览器从渲染树的根节点开始进行遍历。让我们考虑下面这样一个简单的实例：")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token doctype"}},[t._v("<!DOCTYPE html>")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("viewport"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("width=device-width,initial-scale=1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("title")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Critial Path: Hello world!"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("title")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token style-attr language-css"}},[n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('="')]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 50%")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token style-attr language-css"}},[n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('="')]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 50%")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Hello world!"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("以上网页的正文包含两个嵌套 "),n("code",[t._v("div")]),t._v("：第一个（父）"),n("code",[t._v("div")]),t._v(" 将节点的显示尺寸设置为视口宽度的 50%， 父 "),n("code",[t._v("div")]),t._v(" 包含的第二个 "),n("code",[t._v("div")]),t._v(", 将其宽度设置为其父项的 50%；即视口宽度的 25%。")]),t._v(" "),n("p",[n("img",{attrs:{src:s(47),alt:"实例"}})]),t._v(" "),n("p",[t._v("布局流程的输出是一个“盒模型”，它会精确地捕获每个元素在视口内的确切位置和尺寸：所有相对测量值都转换为屏幕上的绝对像素。")]),t._v(" "),n("h2",{attrs:{id:"painting"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#painting","aria-hidden":"true"}},[t._v("#")]),t._v(" Painting")]),t._v(" "),n("h3",{attrs:{id:"光栅化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#光栅化","aria-hidden":"true"}},[t._v("#")]),t._v(" 光栅化")]),t._v(" "),n("p",[t._v("最后，既然我们知道了哪些节点可见、它们的计算样式以及几何信息，我们终于可以将这些信息传递给最后一个阶段：将渲染树中的每个节点转换成屏幕上的实际像素。这一步通常称为“绘制”或“栅格化”或“光栅化”。")]),t._v(" "),n("p",[n("img",{attrs:{src:s(48),alt:""}})]),t._v(" "),n("p",[t._v("把近视眼镜取掉看起来就是一个三角形。简单点的说就是把你上一步得到的几何数据包括（颜色、图像、边框和阴）填充成屏幕可以显示的像素")]),t._v(" "),n("h3",{attrs:{id:"分层"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#分层","aria-hidden":"true"}},[t._v("#")]),t._v(" 分层")]),t._v(" "),n("p",[t._v("绘制过程是在多个层上完成的，（可以类比为 ps 的图层），一些常见的会导致分层的因素如下：")]),t._v(" "),n("ul",[n("li",[t._v("根元素（HTML）")]),t._v(" "),n("li",[t._v("有明确的定位属性（relative、fixed、sticky、absolute）")]),t._v(" "),n("li",[t._v("透明的（opacity 小于 1）")]),t._v(" "),n("li",[t._v("有 CSS 滤镜（fliter）")]),t._v(" "),n("li",[t._v("有 CSS transform 属性（不为 none）")]),t._v(" "),n("li",[t._v("有 CSS reflection 属性")]),t._v(" "),n("li",[t._v("当前有对于 opacity、transform、fliter、backdrop-filter 应用动画")]),t._v(" "),n("li",[t._v("等等")])]),t._v(" "),n("p",[n("code",[t._v("Chromium devtools layers")]),t._v("工具显示这个沙雕博客表面上一共两个渲染层\nfixed的顶栏和fixed侧边栏")]),t._v(" "),n("p",[n("img",{attrs:{src:s(49),alt:"google chrome devtools layers"}})]),t._v(" "),n("h2",{attrs:{id:"composite"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#composite","aria-hidden":"true"}},[t._v("#")]),t._v(" Composite")]),t._v(" "),n("p",[t._v("混成就是将上一步得到的多个层合并成一个图层然后显示到屏幕上")]),t._v(" "),n("h2",{attrs:{id:"参考"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考","aria-hidden":"true"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://developers.google.com/web/fundamentals/performance/critical-rendering-path/render-tree-construction?hl=zh-cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("渲染树构建、布局及绘制\n"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"http://jartto.wang/2017/09/29/expand-on-performance-composite/",target:"_blank",rel:"noopener noreferrer"}},[t._v("composite"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"http://taobaofed.org/blog/2016/04/25/performance-composite/",target:"_blank",rel:"noopener noreferrer"}},[t._v("万能的淘宝"),n("OutboundLink")],1)])])])},[],!1,null,null,null);a.default=e.exports}}]);